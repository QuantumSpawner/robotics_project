<launch>
    <arg name="is_sim" default="false"/>
    <arg name="model" default="$(find robotics_description)/urdf/robot.urdf.xacro"/>
    <arg name="rvizconfig" default="$(find robotics_bringup)/rviz/local.rviz"/>

    <param name="robot_description" command="$(find xacro)/xacro $(arg model)"/>

    <group unless="$(arg is_sim)">
        <include file="$(find urg_node)/launch/urg_lidar.launch"/>
        <!-- TODO: realsense -->
    </group>

    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>
    <node name="scout_base_node" pkg="scout_base" type="scout_base_node">
        <param name="is_scout_mini" type="bool" value="true"/>
        <param name="simulated_robot" type="bool" value="$(arg is_sim)"/>
        <param name="odom_frame" type="string" value="odom"/>
        <param name="base_frame" type="string" value="base_link"/>
        <param name="odom_topic_name" type="string" value="odom"/>
        <param name="pub_tf" type="bool" value="false" />
    </node>
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizconfig)"/>
</launch>
